{% set version = "2.20" %}
{% set sha256 = "8dd3044767d044aa4ce46de0de562b111c44e5b8b7348e04e665eb1b4f101fe3" %}

package:
  name: bc2lfastq
  version: "{{ version }}"

about:
  home: https://support.illumina.com/sequencing/sequencing_software/bcl2fastq-conversion-software.html
  license: Proprietary, non-redistributable.
  summary: "bcl2fastq Conversion Software both demultiplexes data and converts BCL files generated by Illumina sequencing systems to standard FASTQ file formats for downstream analysis."

build:
  number: 0

  rpaths:
    - lib64
    - lib

source:
  url: ftp://webdata2:webdata2@ussd-ftp.illumina.com/downloads/software/bcl2fastq/bcl2fastq2-v2-20-0-tar.zip
  fn: bcl2fastq2-v2-20-0-tar.zip
  sha256: {{ sha256 }}

requirements:
  build:
    - cmake ==2.8.9 # wants 2.8.9
    - gcc_npg >=7.3
    - libxml2 # wants 2.7.8
    - libxslt # wants 1.1.26
    - zlib # wants 1.9.9

  run:
    - libgcc_npg >=7.3
    - libxml2
    - libxslt
    - zlib

test:
  commands:
    - bcl2fastq --help
